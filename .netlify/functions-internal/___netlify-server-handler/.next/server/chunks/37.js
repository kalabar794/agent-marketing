"use strict";exports.id=37,exports.ids=[37],exports.modules={15418:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{n:()=>i});var e=c(34312),f=c(66693),g=c(54808),h=a([e]);e=(h.then?(await h)():h)[0];class i{static{this.instances=new Map}constructor(a){this.id=this.generateId(),this.request=a,this.orchestrator=new e.S,this.qualityController=new f.G,this.storage=new g.P,this.status={id:this.id,status:"pending",progress:0,agents:this.initializeAgents(),startTime:new Date},i.instances.set(this.id,this)}static getInstance(a){return i.instances.get(a)}generateId(){return`workflow-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}initializeAgents(){return this.getAgentPipeline().map(a=>({agentId:a.id,status:"pending",progress:0}))}getAgentPipeline(){let a=[{id:"market-researcher",name:"Market Researcher",description:"Analyzing market trends and competitor landscape",color:"blue",estimatedTime:3,dependencies:[]},{id:"audience-analyzer",name:"Audience Analyzer",description:"Analyzing target audience and creating persona insights",color:"purple",estimatedTime:2,dependencies:["market-researcher"]},{id:"content-strategist",name:"Content Strategist",description:"Creating comprehensive content strategy and outline",color:"indigo",estimatedTime:3,dependencies:["audience-analyzer"]},{id:"ai-seo-optimizer",name:"AI SEO Optimizer",description:"Optimizing for traditional and AI search engines",color:"green",estimatedTime:2,dependencies:["content-strategist"]},{id:"content-writer",name:"Content Writer",description:"Writing engaging, conversion-focused content",color:"orange",estimatedTime:5,dependencies:["ai-seo-optimizer"]},{id:"content-editor",name:"Content Editor",description:"Reviewing and polishing content for quality",color:"red",estimatedTime:3,dependencies:["content-writer"]}];return"landing"===this.request.contentType&&a.push({id:"landing-page-specialist",name:"Landing Page Specialist",description:"Optimizing for conversion and user experience",color:"yellow",estimatedTime:4,dependencies:["content-editor"]}),("social"===this.request.contentType||this.request.platforms?.length)&&a.push({id:"social-media-specialist",name:"Social Media Specialist",description:"Adapting content for social platforms",color:"pink",estimatedTime:3,dependencies:["content-editor"]}),a.push({id:"performance-analyst",name:"Performance Analyst",description:"Setting up analytics and success metrics",color:"cyan",estimatedTime:2,dependencies:["content-editor"]}),a}getEstimatedTime(){return this.getAgentPipeline().reduce((a,b)=>a+b.estimatedTime,0)}async start(){return this.status.status="running",this.executeWorkflow().catch(a=>{console.error("Workflow execution failed:",a),this.status.status="failed"}),this.id}async executeWorkflow(){let a=this.getAgentPipeline(),b=0,c=100/a.length;for(let d of a){if(!this.checkDependencies(d))throw Error(`Dependencies not met for agent: ${d.id}`);let a=this.status.agents.findIndex(a=>a.agentId===d.id);-1!==a&&(this.status.agents[a].status="running",this.status.agents[a].startTime=new Date,this.status.currentAgent=d.id);try{let e=await this.orchestrator.executeAgent(d.id,this.request,this.getAgentContext());-1!==a&&(this.status.agents[a].status="completed",this.status.agents[a].endTime=new Date,this.status.agents[a].progress=100,this.status.agents[a].output=e,this.status.agents[a].duration=this.status.agents[a].endTime.getTime()-this.status.agents[a].startTime.getTime()),b+=c,this.status.progress=Math.min(b,100),await this.storage.saveAgentOutput(this.id,d.id,e)}catch(b){throw -1!==a&&(this.status.agents[a].status="failed",this.status.agents[a].error=b instanceof Error?b.message:"Unknown error"),b}}await this.generateFinalContent(),await this.runQualityControl(),this.status.status="completed",this.status.endTime=new Date,this.status.progress=100}checkDependencies(a){return a.dependencies.every(a=>{let b=this.status.agents.find(b=>b.agentId===a);return b&&"completed"===b.status})}getAgentContext(){let a=this.status.agents.filter(a=>"completed"===a.status),b={request:this.request,previousOutputs:{}};return a.forEach(a=>{a.output&&(b.previousOutputs[a.agentId]=a.output)}),b}async generateFinalContent(){let a=this.status.agents.filter(a=>"completed"===a.status&&a.output).reduce((a,b)=>(a[b.agentId]=b.output,a),{}),b={id:`content-${this.id}`,title:a["content-strategist"]?.title||this.request.topic,content:a["content-writer"]?.content||"",summary:a["content-strategist"]?.summary||"",seoKeywords:a["ai-seo-optimizer"]?.keywords||[],readabilityScore:0,platforms:this.generatePlatformContent(a)};this.status.content=b,await this.storage.saveFinalContent(this.id,b)}generatePlatformContent(a){let b=[];return a["social-media-specialist"]&&b.push(...a["social-media-specialist"].platforms),a["landing-page-specialist"]&&b.push({platform:"landing-page",content:a["landing-page-specialist"].content,mediaRecommendations:a["landing-page-specialist"].mediaRecommendations}),b}async runQualityControl(){if(!this.status.content)return;let a=await this.qualityController.evaluateContent(this.status.content);this.status.qualityScores=a,await this.storage.saveQualityReport(this.id,a)}async getStatus(){return{...this.status}}async getContent(){return this.status.content}async getQualityScores(){return this.status.qualityScores}async approveContent(a){if("completed"!==this.status.status)throw Error("Content must be completed before approval");this.status.status="completed";let b={approved:!0,approvedAt:new Date,feedback:a,approvedBy:"Quality Control"};return await this.storage.saveApproval(this.id,b),b}async rejectContent(a){if("completed"!==this.status.status)throw Error("Content must be completed before rejection");let b={approved:!1,rejectedAt:new Date,feedback:a,rejectedBy:"Quality Control",reason:a};return await this.storage.saveApproval(this.id,b),b}async requestRevision(a){if("completed"!==this.status.status)throw Error("Content must be completed before requesting revision");let b={revisionRequested:!0,requestedAt:new Date,feedback:a,requestedBy:"Quality Control",revisionNotes:a};return await this.storage.saveRevisionRequest(this.id,b),b}async getQualityReport(){if(!this.status.content||!this.status.qualityScores)throw Error("Content and quality scores must be available");let a=this.status.agents.filter(a=>"completed"===a.status&&a.output).map(a=>({agentId:a.agentId,agentName:this.getAgentName(a.agentId),output:a.output,duration:a.duration,completedAt:a.endTime}));return{workflowId:this.id,content:this.status.content,qualityScores:this.status.qualityScores,agentFeedback:a,overallStatus:this.status.status,completedAt:this.status.endTime,totalDuration:this.status.endTime?this.status.endTime.getTime()-this.status.startTime.getTime():0,agentCount:this.status.agents.length,successfulAgents:this.status.agents.filter(a=>"completed"===a.status).length}}getAgentName(a){let b=this.getAgentPipeline().find(b=>b.id===a);return b?.name||a}}d()}catch(a){d(a)}})},34312:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{S:()=>o});var e=c(82335),f=c(88617),g=c(7838),h=c(53232),i=c(46175),j=c(37873),k=c(69218),l=c(5199),m=c(73691),n=a([e,f,g,h,i,j,k,l,m]);[e,f,g,h,i,j,k,l,m]=n.then?(await n)():n;class o{constructor(){this.agents=new Map([["market-researcher",new e.b],["audience-analyzer",new f.P],["content-strategist",new g.q],["ai-seo-optimizer",new h.B],["content-writer",new i.J],["content-editor",new j.j],["social-media-specialist",new k.Z],["landing-page-specialist",new l.S],["performance-analyst",new m.p]])}async executeAgent(a,b,c){let d=this.agents.get(a);if(!d)throw Error(`Agent not found: ${a}`);console.log(`Executing agent: ${a}`);try{let e=await d.execute(b,c);return console.log(`Agent ${a} completed successfully`),e}catch(b){throw console.error(`Agent ${a} failed:`,b),b}}getAvailableAgents(){return Array.from(this.agents.keys())}async healthCheck(){let a=new Map;for(let[b,c]of this.agents)try{"function"==typeof c.healthCheck&&await c.healthCheck(),a.set(b,!0)}catch(c){console.error(`Health check failed for agent ${b}:`,c),a.set(b,!1)}return a}}d()}catch(a){d(a)}})},54808:(a,b,c)=>{c.d(b,{P:()=>d});class d{constructor(){this.storage=new Map}async saveAgentOutput(a,b,c){let d=`${a}_agent_${b}`;this.storage.set(d,{workflowId:a,agentId:b,result:c,timestamp:new Date,type:"agent_output"})}async getAgentOutput(a,b){let c=`${a}_agent_${b}`;return this.storage.get(c)?.result}async saveFinalContent(a,b){let c=`${a}_final_content`;this.storage.set(c,{workflowId:a,content:b,timestamp:new Date,type:"final_content"})}async getFinalContent(a){let b=`${a}_final_content`;return this.storage.get(b)?.content||null}async saveQualityReport(a,b){let c=`${a}_quality_report`;this.storage.set(c,{workflowId:a,scores:b,timestamp:new Date,type:"quality_report"})}async getQualityReport(a){let b=`${a}_quality_report`;return this.storage.get(b)?.scores||null}async saveApproval(a,b){let c=`${a}_approval`;this.storage.set(c,{workflowId:a,approvalData:b,timestamp:new Date,type:"approval"})}async getApproval(a){let b=`${a}_approval`;return this.storage.get(b)?.approvalData||null}async saveRevisionRequest(a,b){let c=`${a}_revision`;this.storage.set(c,{workflowId:a,revisionData:b,timestamp:new Date,type:"revision_request"})}async getRevisionRequest(a){let b=`${a}_revision`;return this.storage.get(b)?.revisionData||null}async getAllWorkflowData(a){let b={agentOutputs:{},finalContent:null,qualityReport:null,approval:null,revisionRequest:null};for(let[c,d]of this.storage.entries())if(c.startsWith(a))switch(d.type){case"agent_output":b.agentOutputs[d.agentId]=d.result;break;case"final_content":b.finalContent=d.content;break;case"quality_report":b.qualityReport=d.scores;break;case"approval":b.approval=d.approvalData;break;case"revision_request":b.revisionRequest=d.revisionData}return b}async deleteWorkflowData(a){Array.from(this.storage.keys()).filter(b=>b.startsWith(a)).forEach(a=>this.storage.delete(a))}async getWorkflowHistory(){let a=new Set;for(let b of this.storage.keys()){let c=b.split("_")[0];a.add(c)}return Array.from(a)}}},66693:(a,b,c)=>{c.d(b,{G:()=>d});class d{constructor(){}async evaluateContent(a){return await this.calculateQualityScores(a)}async calculateQualityScores(a){let b=this.calculateReadabilityScore(a.content),c=this.calculateSEOScore(a),d=this.calculateBrandAlignment(a),e=this.calculateOriginality(a),f=.25*b+.3*c+.25*d+.2*e;return{overall:Math.round(100*f)/100,readability:Math.round(100*b)/100,seo:Math.round(100*c)/100,brandAlignment:Math.round(100*d)/100,originality:Math.round(100*e)/100,evaluatedAt:new Date,recommendations:this.generateRecommendations(f,b,c,d,e)}}calculateReadabilityScore(a){if(!a)return 0;let b=a.split(/[.!?]+/).filter(a=>a.trim().length>0),c=a.split(/\s+/).filter(a=>a.length>0),d=c.length/Math.max(b.length,1),e=c.reduce((a,b)=>a+b.length,0)/Math.max(c.length,1),f=.8;return d>=10&&d<=20?f+=.1:f-=.01*Math.abs(d-15),e>=4&&e<=6?f+=.1:f-=.02*Math.abs(e-5),Math.max(.3,Math.min(1,f))}calculateSEOScore(a){let b=.7;if(a.seoKeywords&&a.seoKeywords.length>0){b+=.2;let c=a.content.toLowerCase();b+=a.seoKeywords.filter(a=>c.includes(a.toLowerCase())).length/a.seoKeywords.length*.1}return a.title&&a.title.length>=30&&a.title.length<=60&&(b+=.1),a.summary&&a.summary.length>=120&&a.summary.length<=160&&(b+=.1),Math.max(.3,Math.min(1,b))}calculateBrandAlignment(a){let b=.85,c=["professional","expertise","solution","innovative","quality"],d=a.content.toLowerCase();return b+=c.filter(a=>d.includes(a)).length/c.length*.1,Math.max(.3,Math.min(1,b-=.1*["awesome","cool","dude","totally"].filter(a=>d.includes(a)).length))}calculateOriginality(a){return .95}generateRecommendations(a,b,c,d,e){let f=[];return b<.6&&f.push("Improve readability by using shorter sentences and simpler words"),c<.7&&f.push("Optimize SEO by adding more relevant keywords and improving meta descriptions"),d<.8&&f.push("Ensure content aligns better with brand voice and messaging guidelines"),e<.9&&f.push("Add more unique insights and original perspectives"),a>=.9?f.push("Excellent quality! Content is ready for publication"):a>=.8?f.push("Good quality content with minor improvements needed"):f.push("Content needs significant improvement before publication"),f}}}};